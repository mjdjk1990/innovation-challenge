{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth.service';\nimport { Account } from '../../models/account/account.interface';\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\nimport { AlertController } from 'ionic-angular/components/alert/alert-controller';\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n  account = {} as Account;\n  loading: Loading;\n\n  constructor(\n    private navCtrl: NavController,\n    private auth: AuthService,\n    private toastCtrl: ToastController,\n    private alertCtrl: AlertController,\n    private loadingCtrl: LoadingController\n  ) {\n  }\n\n  showLoader() {\n    if (!this.loading) {\n      this.loading = this.loadingCtrl.create({\n        content: 'Creating account...'\n      });\n      this.loading.present();\n    }\n  }\n\n  dismissLoader() {\n    if (this.loading) {\n      this.loading.dismiss();\n      this.loading = null;\n    }\n  }\n\n  showAlert(message) {\n    this.alertCtrl.create({\n      title: `An error occured!`,\n      message: message,\n      buttons: ['OK'],\n      enableBackdropDismiss: false\n    }).present();\n  }\n\n  async register() {\n    this.showLoader();\n    const registerResponse = await this.auth.createUserWithEmailAndPassword(this.account);\n    if (!registerResponse.error) {\n\n      // send verification email\n      this.auth.getAuthenticatedUser().subscribe(user => {\n        user.sendEmailVerification().then(() => {\n          this.dismissLoader();\n\n          this.toastCtrl.create({\n            message: `Verification email sent to ${registerResponse.result.email}!`,\n            duration: 3000,\n            showCloseButton: true\n          }).present();\n          \n          this.returnToLoginPage();\n        })\n          .catch(e => {\n            this.dismissLoader();\n            this.showAlert(e.message);\n          });\n      });\n    } else {\n      this.dismissLoader();\n      this.showAlert(registerResponse.error.message.substr(registerResponse.error.message.indexOf(\":\") + 1));\n    }\n  }\n\n  returnToLoginPage() {\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}